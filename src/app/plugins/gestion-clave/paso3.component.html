<div class="container">
    <h3 class="title-divider text-primary">
        <i class="fa fa-edit mr-2" style="margin-top: -4px;"></i>
        <span>Paso final de creación de clave</span>
    </h3>

    <form #miForm="ngForm" *ngIf="!correcto">
        <div class="form-group">
            <label for="cedula"><strong> <i class="fa fa-info-circle"></i> Cédula </strong> <small>sin puntos (Ej. 123456)</small></label>
            <input type="text" [(ngModel)]="cedula" class="form-control" id="cedula" name="cedula" required>
        </div>

        <div class="form-group">
            <label for="correo"><strong>Clave Nueva</strong> <small> (Longitud mínima 8 caracteres)</small></label>
            <input type="password" [(ngModel)]="clave" name="clave" class="form-control" id="clave" required>
        </div>

        <div class="form-group">
            <label for="cedula"><strong><i class="fa fa-info-circle"></i> Confirmar Clave Nueva</strong>  </label>
            <input type="password" [(ngModel)]="claveConf" class="form-control" id="claveConf" name="claveConf" required>
        </div>

        <!--<re-captcha (resolved)="resolved($event)" siteKey="6Les3CAUAAAAAHePnS6Tnw0shRj6XWERG0WScS9s" [(ngModel)]="captcha" name="captcha" #captchaControl="ngModel" required></re-captcha>-->
        <div class="alert alert-danger" *ngIf="clave!=claveConf">
            <i class="fa fa-info-circle"></i> La clave debe ser igual a la confirmación
        </div>

        <button (click)="actualizar(cedula, clave)" type="submit" class="btn btn-success btn-success-next" [disabled]="!miForm.form.valid || clave!=claveConf || clave?.length < 8">
            Crear Clave
            <span class="fa fa-check"></span>
        </button>
    </form>

    <div class="alert alert-info" *ngIf="correcto">
        <i class="fa fa-info-circle"></i> Clave creada con éxito. Consulte sus documentos personales en: <a href='https://www.paraguay.gov.py/login-ciudadano'>https://www.paraguay.gov.py/login-ciudadano</a>
    </div>

    <div class="clearfix"><br/></div>

    <div class="modal fade" id="miModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Aviso</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body" [innerHTML]="mensaje"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
</div>