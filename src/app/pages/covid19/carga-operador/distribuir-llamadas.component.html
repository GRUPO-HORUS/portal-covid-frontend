<div id="page-header" class="bg-gradient bg-shadow" style="padding: 0px 0;">
    <div class="container clearfix">
        <nav class="breadcrumb">
        </nav>
    </div>
</div>
<div id="content" class="pb-0">
  <div id="content" class="pb-0 pt-2">
    <div class="container pb-6">
    <!--<button type="button" pButton icon="pi pi-file-excel" iconPos="left" label="XLS" (click)="getAllPacientes()" 
    style="float:right;margin-right: 0.5em;margin-top: 1.5em;width: 60px;" class="ui-button-success"></button> formControlName="fechaCierre"-->
    <h3 class="title-divider text-primary">
      <i class="fa fa-edit mr-2" style="margin-top: -4px;"></i>
      <span>Distribución de llamadas</span>
    </h3>
    <label for="fechaCierre"><strong>Fecha de Cierre:&nbsp;</strong></label>
    <p-calendar id="fechaCierre" name="fechaCierre" dateFormat="dd/mm/yy" [locale]="es" dataType="string" [showIcon]="true" [inputStyle]="{'width':'400px'}" appendTo="body" (onSelect)="getCantidadPendientes($event); listarDistribucion();"></p-calendar><br>
    <label for="fechaCierre" class="mt-2"><strong>{{cantidadPendientes}} registros sin asignar </strong></label>
        <p-table #table [columns]="cols" [value]="operadoresList" selectionMode="single" dataKey="id" [paginator]="true"
          [rows]="pageSize" [totalRecords]="totalRecords" [responsive]="true" [lazy]="true" (onLazyLoad)="load($event)"
          paginatorPosition="bottom" [resizableColumns]="true" columnResizeMode="expand" editMode="row">
          <ng-template pTemplate="caption">           
            <div style="text-align: left;width:auto;">
                <input type="text" pInputText style="width:555px;" placeholder="Filtrar Usuarios por nombre, apellido" (input)="table.filterGlobal($event.target.value, 'contains')">
            </div>
          </ng-template>

          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn [style.width]="col.width">
                {{col.header}}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
              <th>
                Cantidad a asignar
              </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex" let-columns="columns">
          <tr [pEditableRow]="rowData">
              <td>
                {{rowData.nombre}}
              </td>
              <td>
                {{rowData.apellido}}
              </td>
              <td>
                {{rowData.asignadosActual}}
              </td>
              <td pEditableColumn>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input pInputText type="text" [(ngModel)]="product.code">
                  </ng-template>
                  <ng-template pTemplate="output">
                    0
                  </ng-template>
                </p-cellEditor>
              </td>
              <td>
                <button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" iconPos="left" (click)="onRowEditInit(rowData)" class="ui-button-warning mr-2 mb-1" style="font-size:10px;width:133px" label="Editar"></button>
                <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check" (click)="onRowEditSave(rowData)" class="p-button-rounded p-button-text ui-button-warning p-mr-2 mr-2 ml-3 mb-1 mt-1" style="background-color: green !important;"></button>
                <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times" (click)="onRowEditCancel()" class="p-button-rounded p-button-text p-button-danger mb-1 mt-1" style="background-color: red !important;"></button><br>
              </td>
              <!--<td>
                {{rowData.tipo}}
              </td>
              <td>
                {{rowData.fechaUltimoContacto | date:'dd-MM-yyyy'}}
              </td>
              <td align="center">
                <button type="button" pButton icon="pi pi-pencil" iconPos="left" (click)="editarPaciente(rowData.numeroDocumento)" class="ui-button-warning mr-2 mb-1" style="font-size:10px;width:150px" label="Editar"></button>
              </td>-->
            </tr>
        </ng-template>
        </p-table>
        <button class="btn btn-success btn-success-next text-white mt-5 mr-3" mat-button routerLink="/covid19/home-operador">
          Menú Principal  <span class="fa fa-arrow-left"></span>            
      </button>
      <button class="btn btn-success btn-success-next mb-4 text-white" mat-button>Asignar <span class="fa fa-check"></span></button>
    </div>
  </div>
</div>